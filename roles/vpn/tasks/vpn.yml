---
- name: Install WireGuard
  ansible.builtin.package:
    name:
      - wireguard
    state: present
  when: ansible_facts['distribution'] == "Ubuntu"
  tags:
    - vpn

- name: Install OpenVPN
  ansible.builtin.apt:
    name:
      - openvpn
      - network-manager-openvpn
    state: present
  when: ansible_facts['distribution'] == "Ubuntu"
  tags:
    - vpn

- name: Install WireGuard
  ansible.builtin.package:
    name:
      - wireguard-tools
    state: present
  when: ansible_facts['distribution'] == "Fedora"
  tags:
    - vpn

- name: Install OpenVPN
  ansible.builtin.package:
    name:
      - openvpn
      - NetworkManager-openvpn
      - NetworkManager-openvpn-gnome
    state: present
  when: ansible_facts['distribution'] == "Fedora"
  tags:
    - vpn
